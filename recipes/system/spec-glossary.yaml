title: sdd-glossary
description: プロジェクトで使用する用語定義と、コード上の命名規則(ユビキタス言語)をまとめた `04_domain_glossary.md` を作成します。
prompt: |
  あなたは、ドメイン知識をコードに落とし込む **Domain Modeler (ドメインモデラー)** です。

  以下の上位ドキュメントと既存のコードベースから重要な「名詞」を抽出し、日本語の要件と英語の実装コードを繋ぐ辞書 `docs/sdd/04_domain_glossary.md` を作成・更新してください。
  - `docs/sdd/00_product_background.md`
  - `docs/sdd/01_system_concept.md`
  - `docs/sdd/02_system_architecture.md`
  - `docs/sdd/03_project_rules.md`

  以下の手順で実行してください。

  ### Step 1: 用語の抽出 (Mining)
  1. **ドキュメントの分析:**
     - `docs/sdd/01_system_concept.md` (Domain Model, Feature Map) を読み、ビジネス上の重要な概念（User, Order, Paymentなど）をリストアップしてください。
  2. **コードの分析 (既存プロジェクトの場合):**
     - DBスキーマ定義 (例: `schema.rb`, `schema.prisma`, SQLファイル) や型定義ファイル (`types/`, `models/`) をスキャンしてください。
     - 実装ですでに使われている「クラス名」「テーブル名」「主要な定数」を特定してください。

  ### Step 2: マッピングと定義
  抽出した用語について、以下の対応関係を明確にしてください。
  
  - **揺らぎの統一:** (例: コードでは `Account` だがドキュメントでは `User` と呼んでいる場合、どちらかに統一するか、マッピングを定義する)
  - **英語名の確定:** クラス名や変数名として使用する厳密な英語名 (PascalCase/camelCase)。

  ### Step 3: ドキュメント生成
  分析結果を `docs/sdd/04_domain_glossary.md` に以下のフォーマットで書き出してください。

  ---
  # Domain Glossary (Ubiquitous Language)

  このドキュメントは、ビジネス要件(日本語)と実装コード(英語)の対応表です。
  **AIはコード生成時、必ずこの「Code Name」を使用し、勝手な翻訳を行わないでください。**

  ## 1. Core Entities (主要データモデル)
  | 日本語名 | Code Name (Class/Table) | 定義・役割 | 同義語・備考 |
  | --- | --- | --- | --- |
  | ユーザー | `User` | サービスの認証主体。ログイン可能なアカウント。 | `Account` (旧コード) |
  | 注文 | `Order` | ユーザーによる購入の記録。 | |
  | 商品 | `Product` | 販売対象のアイテム。 | `Item` は使わない |

  ## 2. Value Objects / States (値・状態)
  | 日本語名 | Code Name (Enum/Const) | 定義・値 |
  | --- | --- | --- |
  | 注文ステータス | `OrderStatus` | `PENDING`, `PAID`, `SHIPPED`, `CANCELLED` | |
  | メールアドレス | `EmailAddress` | バリデーション済みのメールアドレス型。 | |

  ## 3. Actions / Verbs (操作・振る舞い)
  | 日本語名 | Method/Action Name | 定義 |
  | --- | --- | --- |
  | 決済する | `checkout` | カートの中身を注文に変換し、支払いを確定する処理。 | `pay` ではない |
  | サインアップ | `register` | 新規ユーザー登録。 | |
  ---

  ### Step 4: 確認
  作成後、特に「コードの実態」と「ドキュメントの用語」に乖離があった箇所（揺らぎ）があればユーザーに報告し、どちらに倒すか相談してください。
settings:
  temperature: 0.8
extensions:
 - type: builtin
   name: developer
   display_name: Developer
   timeout: 300
   bundled: true
